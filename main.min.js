"use strict";for(var openItem=function(e){var e=e.closest(".team__item"),t=e.find(".team__content"),n=t.find(".team__content-block").height();e.addClass("active"),t.height(n)},closeEveryItem=function(e){var t=e.find(".team__content");e.find(".team__item").removeClass("active"),t.height(0)},burger=($(".team__title").on("click",function(e){e.preventDefault();var e=$(e.currentTarget),t=e.closest(".team");e.closest(".team__item").hasClass("active")?closeEveryItem(t):(closeEveryItem(t),openItem(e))}),document.querySelector(".burger")),menu=document.querySelector(".menu"),body=document.querySelector("body"),menuItems=(burger.addEventListener("click",function(){menu.classList.contains("menu--active")?(menu.classList.remove("menu--active"),burger.classList.remove("burger--active"),body.classList.remove("overflow")):(menu.classList.add("menu--active"),burger.classList.add("burger--active"),body.classList.add("overflow"))}),document.getElementsByClassName("menu__link")),i=0;i<menuItems.length;i++)menuItems[i].addEventListener("click",function(){menu.classList.remove("menu--active"),burger.classList.remove("burger--active"),body.classList.remove("overflow")});var player,mesureWidth=function(e){var t=0,n=$(window).width(),o=e.closest(".colors__list").find(".colors__title"),o=o.width()*o.length,e=e.find(".colors__content-container"),a=parseInt(e.css("padding-left")),e=parseInt(e.css("padding-right"));return{container:t=window.matchMedia("(max-width: 768px)").matches?n-o:500,textContainer:t-a-e}},closeEveryItemInContainer=function(e){var t=e.find(".colors__item"),e=e.find(".colors__content");t.removeClass("active"),e.width(0)},openItemAcc=function(e){var t=e.find(".colors__content"),n=mesureWidth(e),o=e.find(".colors__content-container"),a=e.closest(".colors__list").siblings(".title__colors");e.addClass("active"),t.width(n.container),o.width(n.textContainer),a.addClass("active")},validateFields=($(".colors__title").on("click",function(e){e.preventDefault();var e=$(e.currentTarget),t=e.closest(".colors__item"),n=t.hasClass("active"),e=e.closest(".colors__list");n?closeEveryItemInContainer(e):(closeEveryItemInContainer(e),openItemAcc(t))}),$(".burger--colors").on("click",function(e){e.preventDefault(),closeEveryItemInContainer($(".colors__list"))}),function(e,t){return t.forEach(function(e){e.removeClass("input-error"),typeof e||""===e.val().trim()&&e.addClass("input-error")}),0===e.find(".input-error").length});function onYouTubeIframeAPIReady(){player=new YT.Player("yt-player",{height:"405",width:"660",videoId:"Q0B72t-M4CA",events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(e){e.target.playVideo()}function onPlayerStateChange(t){var e=Object.entries(window.YT.PlayerState);console.log(e.find(function(e){return e[1]===t.data})[0])}$(".form").submit(function(e){e.preventDefault();var t=$("body"),e=$(e.currentTarget),n=e.find('[name="name"]'),o=e.find('[name="phone"]'),a=e.find('[name="comment"]'),i=e.find('[name="street"]'),r=e.find('[name="building"]'),s=e.find('[name="apartment"]'),c=e.find('[name="floor"]'),l=e.find('[name="to"]'),d=$("#modal").find(".modal__content");validateFields(e,[n,o,i,r,s,l])&&($.ajax({url:"https://webdev-api.loftschool.com/sendmail",method:"post",data:{name:n.val(),phone:o.val(),street:i.val(),building:r.val(),apartment:s.val(),comment:a.val(),floor:c.val(),to:l.val()},success:function(e){d.text(e.message),$.fancybox.open({src:"#modal",type:"inline"})},error:function(e){e=e.responseJSON.message;d.text(e),$.fancybox.open({src:"#modal",type:"inline"})}}),t.addClass("overflow"))}),$(".modal").click(function(e){e.preventDefault(),$.fancybox.close()}),$(document).ready(function(){$.getScript("https://www.youtube.com/iframe_api",function(){onYouTubeIframeAPIReady()})});var slider=$(".products").bxSlider({controls:!1}),findBlockByAlias=($(".product-btn--left").click(function(e){e.preventDefault(),slider.goToPrevSlide()}),$(".product-btn--right").click(function(e){e.preventDefault(),slider.goToNextSlide()}),function(n){return $(".reviews__item").filter(function(e,t){return $(t).attr("data-linked")===n})});$(".reviews__switcher-link").click(function(e){e.preventDefault();var e=$(e.currentTarget),t=e.attr("data-open"),t=findBlockByAlias(t),e=e.closest(".reviews__switcher-item");t.addClass("active").siblings().removeClass("active"),e.addClass("active").siblings().removeClass("active")});